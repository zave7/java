<script>
$(function() {
	//dom에서 form 객체 찾기
	$("form").submit(function(){
		$.ajax({
			url : '/myjquery/login',
			method : 'post',
			data : $('#loginform').serialize(),
			//'id='+$("#id").val()+'&pass='+$("#pass").val(),
			//'id='+$('input[name=id]').val()+'pwd='+$('input[name=pwd]').val(),
			
			//{ id : $('input[name=id]').val(),
			//pwd : $('input[name=pwd]').val() }
			success : function(result) {
				if(result.trim() == '1') { //성공
					location.href = "/myjquery/semantic.jsp";
				} else { //실패
					alert(result.trim());
				}
			},
			error : function(jqXHR, textStatus, errorThrown) {
				alert(errorThrown);				
			}
		});
		return false;
	});
	
	/* var $loginFormObj = $("#loginform");
	$loginFormObj.submit(login); */
	var $registerBtnObj = $("#moveRegisterBtn");
	$registerBtnObj.click(function() {
		$("nav>ul>li>a[href='user/signup.html']").trigger("click");//강제 이벤트 발생(코드의 재사용성을 높이는 것이다)
	});
		
});
</script>

<div class="container" align="center">
	<div class="col-lg-6" align="center">
		<h2>로그인</h2>
		<form id="loginform" method="post" action="">
			<div class="form-group" align="left">
				<label for="">아이디</label>
				<input type="text" class="form-control" id="id" name="id" placeholder="" required>
			</div>
			<div class="form-group" align="left">
				<label for="">비밀번호</label>
				<input type="password" class="form-control" id="pass" name="pass" placeholder="" required>
			</div> 
		</form>
			<div class="form-group" align="center">
				<button class="btn btn-warning" id="loginBtn" form="loginform">로그인</button>
				<button class="btn btn-primary" id="moveRegisterBtn">회원가입</button>
			</div>
	</div>
</div>
